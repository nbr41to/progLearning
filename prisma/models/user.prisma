model User {
  id          String       @unique
  email       String       @unique
  plan        Plan         @default(free)
  lastLogin   DateTime
  profile     Profile?
  status      Status?
  Achievement Achievement?
}

model Profile {
  user   User   @relation(fields: [userId], references: [id])
  userId String @unique

  name      String
  icon      Icon     @default(base)
  startedAt DateTime @default(now()) // 登録日
}

model Status {
  user   User   @relation(fields: [userId], references: [id])
  userId String @unique

  learningStartedAt DateTime // 取り組み中の場合開始した時間
}

model Achievement {
  user   User   @relation(fields: [userId], references: [id])
  userId String @unique

  stackPoint Int
}

// Enums
enum Icon {
  base
  happy
  sad
}

enum Plan {
  free
  lite
  closer
}
